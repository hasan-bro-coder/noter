(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var e=document.querySelector(`ul`),t=document.querySelector(`dialog`),n=document.querySelector(`textarea`),r=t.querySelector(`button:last-child`),i=t.querySelector(`button:first-child`),a=document.querySelectorAll(`nav button`),[o,s,c,l]=Array.from(a),u=JSON.parse(localStorage.getItem(`noter_data`)||`{}`),d=``,f=()=>{e&&(e.innerHTML=Object.keys(u).sort((e,t)=>t.localeCompare(e)).map(e=>`
      <li data-date="${e}">
        <h3>${new Date(e).toLocaleDateString(void 0,{weekday:`short`,year:`numeric`,month:`short`,day:`numeric`})}</h3>
        <p>${u[e]}</p>
      </li>
    `).join(``))},p=()=>{localStorage.setItem(`noter_data`,JSON.stringify(u)),f()};s.onclick=()=>{d=new Date().toISOString().split(`T`)[0],n.value=u[d]||``,t.showModal()},r.onclick=()=>{let e=n.value.trim();e?(u[d]=e,p(),t.close()):alert(`Please write something before saving.`)},i.onclick=()=>{confirm(`Delete this entry?`)&&(delete u[d],p(),t.close())},e.onclick=e=>{let r=e.target.closest(`li`);r&&(d=r.dataset.date||``,n.value=u[d]||``,t.showModal())},c.onclick=()=>{let e=JSON.stringify(u,null,2),t=new Blob([e],{type:`application/json`}),n=URL.createObjectURL(t),r=document.createElement(`a`);r.href=n,r.download=`diary_export_${d||`backup`}.json`,r.click(),URL.revokeObjectURL(n)},l.onclick=()=>{let e=document.createElement(`input`);e.type=`file`,e.accept=`.json`,e.onchange=e=>{let t=e.target.files?.[0];if(!t)return;let n=new FileReader;n.onload=e=>{try{let t=JSON.parse(e.target?.result);u={...u,...t},p()}catch{alert(`Invalid JSON file.`)}},n.readAsText(t)},e.click()},f();